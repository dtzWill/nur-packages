From e555bf400e73dd1bffccfa211178523cb88a7b27 Mon Sep 17 00:00:00 2001
From: Will Dietz <w@wdtz.org>
Date: Fri, 29 Mar 2019 14:11:56 -0500
Subject: [PATCH] use public versions of dependencies, so building is possible

---
 Cargo.toml             | 20 ++++++++++----------
 enamel-core/Cargo.toml |  4 ++--
 enamel-gtk/Cargo.toml  |  4 ++--
 enamel-tui/Cargo.toml  |  8 ++++----
 4 files changed, 18 insertions(+), 18 deletions(-)

diff --git a/Cargo.toml b/Cargo.toml
index af10dbd..277c9ee 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -14,15 +14,15 @@ gtk = { git = "https://github.com/vhdirk/gtk-rs", branch="subclassing", features
 [patch."https://github.com/gtk-rs/webkit2gtk-rs"]
 webkit2gtk = { git = "https://github.com/vhdirk/webkit2gtk-rs"}
 
-# [patch."https://github.com/capnproto/capnproto-rust.git"]
-# capnp = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
-# capnpc = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
-# capnp-rpc = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
-# capnp-futures = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
+[patch."https://github.com/capnproto/capnproto-rust.git"]
+capnp = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
+capnpc = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
+capnp-rpc = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
+capnp-futures = { git = "https://github.com/vhdirk/capnproto-rust.git", branch="std-future"}
 
 
-[patch."https://github.com/capnproto/capnproto-rust.git"]
-capnp = { path = "../capnproto-rust/capnp"}
-capnpc = { path = "../capnproto-rust/capnpc"}
-capnp-rpc = { path = "../capnproto-rust/capnp-rpc"}
-capnp-futures = { path = "../capnproto-rust/capnp-futures"}
+# [patch."https://github.com/capnproto/capnproto-rust.git"]
+# capnp = { path = "../capnproto-rust/capnp"}
+# capnpc = { path = "../capnproto-rust/capnpc"}
+# capnp-rpc = { path = "../capnproto-rust/capnp-rpc"}
+# capnp-futures = { path = "../capnproto-rust/capnp-futures"}
diff --git a/enamel-core/Cargo.toml b/enamel-core/Cargo.toml
index 553ac11..8788259 100644
--- a/enamel-core/Cargo.toml
+++ b/enamel-core/Cargo.toml
@@ -35,11 +35,11 @@ gio-sys = { git = "https://github.com/gtk-rs/sys"}
 gobject-sys = { git = "https://github.com/gtk-rs/sys"}
 
 notmuch = "*"
-# gmime = { git = "https://github.com/vhdirk/gmime-rs"}
+gmime = { git = "https://github.com/vhdirk/gmime-rs"}
 
 # [patch.crates-io]
 #notmuch = { path = "../../notmuch-rs" }
-gmime = { path = "../../gmime-rs" }
+#gmime = { path = "../../gmime-rs" }
 
 [features]
 default = ["glib/futures"]
diff --git a/enamel-gtk/Cargo.toml b/enamel-gtk/Cargo.toml
index 346ff6d..e32e972 100644
--- a/enamel-gtk/Cargo.toml
+++ b/enamel-gtk/Cargo.toml
@@ -78,11 +78,11 @@ relm = { git = "https://github.com/vhdirk/relm" }
 relm-derive = { git = "https://github.com/vhdirk/relm" }
 
 notmuch = "*"
-# gmime = { git = "https://github.com/vhdirk/gmime-rs"}
+gmime = { git = "https://github.com/vhdirk/gmime-rs"}
 
 # [patch.crates-io]
 #notmuch = { path = "../../notmuch-rs" }
-gmime = { path = "../../gmime-rs" }
+# gmime = { path = "../../gmime-rs" }
 
 
 [features]
diff --git a/enamel-tui/Cargo.toml b/enamel-tui/Cargo.toml
index 76b67c3..60a394a 100644
--- a/enamel-tui/Cargo.toml
+++ b/enamel-tui/Cargo.toml
@@ -40,12 +40,12 @@ tui = "0.3.0"
 enamel-core = { path = "../enamel-core" }
 
 
-# notmuch = "*"
-# gmime = { git = "https://github.com/vhdirk/gmime-rs"}
+notmuch = "*"
+gmime = { git = "https://github.com/vhdirk/gmime-rs"}
 
 # [patch.crates-io]
-notmuch = { path = "../../notmuch-rs" }
-gmime = { path = "../../gmime-rs" }
+#notmuch = { path = "../../notmuch-rs" }
+#gmime = { path = "../../gmime-rs" }
 
 [dev-dependencies]
 cargo-expand = "*"
-- 
2.23.0

